<?php
$sektors = [
            'Pendidikan' => ['icon' => 'fa-graduation-cap', 'url' => 'https://satudata.jatengprov.go.id/mtb/public/dashboard/5db42290-3c53-44d2-8e9f-760d8fb4995e'],
            'Kesehatan' => ['icon' => 'fa-stethoscope', 'url' => 'https://satudata.jatengprov.go.id/mtb/public/dashboard/a9f4b2b6-8a73-4cfe-82b6-c94161cca155'],
            'Pekerjaan Umum dan Penataan Ruang' => ['icon' => 'fa-building', 'url' => 'https://metabase.domainmu.com/public/dashboard/pekerjaan-umum'],
            'Perumahan Rakyat dan Kawasan Pemukiman' => ['icon' => 'fa-home', 'url' => 'https://metabase.domainmu.com/public/dashboard/perumahan'],
            'Ketentraman, Ketertiban Umum dan Perlindungan Masyarakat' => ['icon' => 'fa-shield-alt', 'url' => 'https://metabase.domainmu.com/public/dashboard/ketentraman'],
            'Sosial' => ['icon' => 'fa-hands-helping', 'url' => 'https://metabase.domainmu.com/public/dashboard/sosial'],
            'Tenaga Kerja' => ['icon' => 'fa-briefcase', 'url' => 'https://metabase.domainmu.com/public/dashboard/tenaga-kerja'],
            'Komunikasi dan Informatika' => ['icon' => 'fa-wifi', 'url' => 'https://metabase.domainmu.com/public/dashboard/komunikasi'],
            'Koperasi, Usaha Kecil dan Menengah' => ['icon' => 'fa-store', 'url' => 'https://metabase.domainmu.com/public/dashboard/koperasi'],
            'Penanaman Modal' => ['icon' => 'fa-coins', 'url' => 'https://metabase.domainmu.com/public/dashboard/penanaman-modal'],
            'Kepemudaan dan Olahraga' => ['icon' => 'fa-running', 'url' => 'https://metabase.domainmu.com/public/dashboard/kepemudaan'],
            'Statistik' => ['icon' => 'fa-chart-bar', 'url' => 'https://metabase.domainmu.com/public/dashboard/statistik'],
            'Persandian' => ['icon' => 'fa-lock', 'url' => 'https://metabase.domainmu.com/public/dashboard/persandian'],
            'Kebudayaan' => ['icon' => 'fa-theater-masks', 'url' => 'https://metabase.domainmu.com/public/dashboard/kebudayaan'],
            'Perpustakaan' => ['icon' => 'fa-book', 'url' => 'https://metabase.domainmu.com/public/dashboard/perpustakaan'],
            'Kearsipan' => ['icon' => 'fa-archive', 'url' => 'https://metabase.domainmu.com/public/dashboard/kearsipan'],
            'Pemberdayaan Perempuan dan Pelindungan Anak' => ['icon' => 'fa-female', 'url' => 'https://metabase.domainmu.com/public/dashboard/pemberdayaan-perempuan'],
            'Pangan' => ['icon' => 'fa-apple-alt', 'url' => 'https://metabase.domainmu.com/public/dashboard/pangan'],
            'Pertanahan' => ['icon' => 'fa-map-marked-alt', 'url' => 'https://metabase.domainmu.com/public/dashboard/pertanahan'],
            'Lingkungan Hidup' => ['icon' => 'fa-tree', 'url' => 'https://metabase.domainmu.com/public/dashboard/lingkungan-hidup'],
            'Administrasi Kependudukan dan Pencatatan Sipil' => ['icon' => 'fa-id-card', 'url' => 'https://metabase.domainmu.com/public/dashboard/administrasi-kependudukan'],
            'Pemberdayaan Masyarakat dan Desa' => ['icon' => 'fa-users-cog', 'url' => 'https://metabase.domainmu.com/public/dashboard/pemberdayaan-masyarakat'],
            'Pengendalian Penduduk dan Keluarga Berencana' => ['icon' => 'fa-baby', 'url' => 'https://metabase.domainmu.com/public/dashboard/keluarga-berencana'],
            'Perhubungan' => ['icon' => 'fa-bus', 'url' => 'https://metabase.domainmu.com/public/dashboard/perhubungan'],
            'Kelautan dan Perikanan' => ['icon' => 'fa-fish', 'url' => 'https://metabase.domainmu.com/public/dashboard/kelautan-perikanan'],
            'Pariwisata' => ['icon' => 'fa-umbrella-beach', 'url' => 'https://metabase.domainmu.com/public/dashboard/pariwisata'],
            'Pertanian' => ['icon' => 'fa-tractor', 'url' => 'https://metabase.domainmu.com/public/dashboard/pertanian'],
            'Kehutanan' => ['icon' => 'fa-tree', 'url' => 'https://metabase.domainmu.com/public/dashboard/kehutanan'],
            'Energi dan Sumber Daya Mineral' => ['icon' => 'fa-bolt', 'url' => 'https://metabase.domainmu.com/public/dashboard/energi'],
            'Perdagangan' => ['icon' => 'fa-shopping-cart', 'url' => 'https://metabase.domainmu.com/public/dashboard/perdagangan'],
            'Perindustrian' => ['icon' => 'fa-industry', 'url' => 'https://metabase.domainmu.com/public/dashboard/perindustrian'],
            'Transmigrasi' => ['icon' => 'fa-plane', 'url' => 'https://metabase.domainmu.com/public/dashboard/transmigrasi'],
            'Pemerintahan Umum' => ['icon' => 'fa-landmark', 'url' => 'https://metabase.domainmu.com/public/dashboard/pemerintahan-umum'],
            'Kewilayahan' => ['icon' => 'fa-globe', 'url' => 'https://metabase.domainmu.com/public/dashboard/kewilayahan'],
            'Penunjang Urusan Pemerintahan' => ['icon' => 'fa-cogs', 'url' => 'https://metabase.domainmu.com/public/dashboard/penunjang-urusan'],
            'Pendukung Urusan Pemerintahan' => ['icon' => 'fa-tools', 'url' => 'https://metabase.domainmu.com/public/dashboard/pendukung-urusan'],
            'Pengawas' => ['icon' => 'fa-search', 'url' => 'https://metabase.domainmu.com/public/dashboard/pengawas'],
            'Kekhususan' => ['icon' => 'fa-star', 'url' => 'https://metabase.domainmu.com/public/dashboard/kekhususan'],
        ];
?>
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Dashboard - Portal Data</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        * { box-sizing: border-box; }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f9f9f9;
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: #003366;
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative; /* agar posisi absolute bisa bekerja */
            height: 50px;
            text-align: center;
        }


        .login-link {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .login-link a {
            background-color: #0055a5;   /* biru muda */
            color:rgb(255, 255, 255);              /* teks tetap biru tua */
            font-size: 14px;
            text-decoration: none;
            padding: 4px 10px;
            border-radius: 5px;
        }

        .login-link a:hover {
            background-color:rgb(4, 37, 75);
            text-decoration: underline;
        }


                .logo-container {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
        }

        .logo-container img {
            height: 40px;
            margin-right: 10px;
        }

        .logo-container h2 {
            margin: 0;
            font-size: 18px;
            white-space: nowrap; /* supaya tidak turun ke bawah */
        }

        .login-link {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
        }

        .login-link a {
            background-color: #0055a5;
            color: white;
            font-size: 14px;
            text-decoration: none;
            padding: 4px 10px;
            border-radius: 5px;
            font-weight: bold;
            transition: opacity 0.2s ease;
        }

        .login-link a:hover {
            background-color: rgb(4, 37, 75);
            text-decoration: underline;
            opacity: 0.8;
        }

        .sector-wrapper {
            background: #0055a5;
            padding: 10px 60px;
            position: relative;
            height: 70px; /* tinggi yang pas */
        }

        /* Atur tinggi sector-scroll supaya scrollbar tidak menutupi konten */
        .sector-scroll {
            display: flex;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 0 20px;
            height: 60px; /* batasi tinggi hanya untuk scroll area */
        }



        .sector-scroll::-webkit-scrollbar {
            height: 8px; /* contoh tinggi scrollbar */
        }

            .sector-menu-item {
            flex: 0 0 auto;
            display: flex;           /* jadi flex container */
            align-items: center;     /* agar ikon dan teks sejajar vertikal */
            color: white;
            text-decoration: none;
            font-size: 14px;
            margin: 0 10px;
            width: auto;             /* lebar fleksibel sesuai konten */
            cursor: pointer;
        }

        .sector-menu-item i {
            font-size: 20px;         /* ukuran ikon */
            margin-right: 8px;       /* jarak kanan ikon ke teks */
            display: inline-block;   /* supaya sejajar teks */
        }


        .sector-menu-item.active {
            background: #003366;
            border-radius: 6px;
            padding: 10px;
            font-weight: bold;
        }

       .scroll-button {
            position: absolute;
            top: 50%; /* tetap posisinya tengah vertikal wrapper */
            transform: translateY(-50%);
            background-color: rgba(0, 0, 0, 0.2);
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            padding: 5px 10px;
            z-index: 10;
        }

        .scroll-button.left {
            left: 0;
        }

        .scroll-button.right {
            right: 0;
        }

        .dashboard-container {
            flex: 1;
            background: white;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        footer {
            background-color: #003366;
            color: white;
            text-align: center;
            padding: 10px;
            font-size: 14px;
        }
        
    </style>
</head>
<body>
 <header>
    <div class="logo-container">
        <img src="{{ asset('assets/img/portal-data.png') }}" alt="Logo" />
        <h2>Portal Data Jawa Tengah</h2>
    </div>
    <div class="login-link">
        <a href="https://satudata.jatengprov.go.id/site/login">Login</a>
    </div>
</header>


   <div class="sector-wrapper">
    <button class="scroll-button left" onclick="scrollMenu(-200)">❮</button>
    <div class="sector-scroll" id="sectorMenu">
        <?php foreach ($sektors as $nama => $data): ?>
            <div class="sector-menu-item" onclick="loadDashboard('<?php echo $data['url']; ?>', this)">
                <i class="fas <?php echo $data['icon']; ?>"></i>
                <?php echo $nama; ?>
            </div>
        <?php endforeach; ?>
    </div>
    <button class="scroll-button right" onclick="scrollMenu(200)">❯</button>
</div>


    <div class="dashboard-container">
        <iframe id="dashboardFrame" src=""></iframe>
    </div>

   <footer>
    &copy; <?php echo date("Y"); ?> Portal Data Jawa Tengah
    </footer>


    <script>
        function scrollMenu(amount) {
            const container = document.getElementById("sectorMenu");
            container.scrollBy({ left: amount, behavior: 'smooth' });
        }

        function loadDashboard(url, element) {
            document.getElementById("dashboardFrame").src = url;

            // Hilangkan 'active' dari semua
            document.querySelectorAll('.sector-menu-item').forEach(item => item.classList.remove('active'));
            // Tambahkan 'active' ke item yang diklik
            element.classList.add('active');
        }

        // Load dashboard pertama saat halaman dibuka
        window.onload = function () {
            const firstItem = document.querySelector('.sector-menu-item');
            if (firstItem) {
                firstItem.click();
            }
        };
    </script>
</body>
</html>
